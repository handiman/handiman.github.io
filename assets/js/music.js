(()=>{"use strict";var e={6246:(e,t,n)=>{var r=n(9526),a=n(3961),o=n(2954),c=n(8789),l="#b8b6d3",i="#101010";const s=(0,n(7295).Z)({palette:{type:"dark",background:{default:i},text:{primary:l}},typography:{fontFamily:["Neucha","monospace","sans-serif"].join(","),fontSize:18},overrides:{MuiAppBar:{root:{opacity:.85},colorSecondary:{backgroundColor:i,color:l}},MuiButton:{root:{fontSize:14,margin:0,textTransform:"none"},label:{color:l}},MuiIconButton:{label:{color:l}},MuiLink:{root:{color:"#e9e9e9","&:hover":{textDecoration:"none!important"}}}}});var u=n(6739),m=n.n(u),p=n(7899),f=n(3167),h=n(1588),d=n(1459),g=n(5155),b=n(107),E=n.n(b),y=n(756),v=n.n(y),k=n(2772),x=(0,k.Z)((function(e){return{alert:{position:"absolute",width:"100%",top:"40vh",zIndex:1,textAlign:"center"}}}));const Z=function(e){var t=x();return r.createElement("div",{className:t.alert},e.children)};var w=n(9244),S=n(7424),N=n(9110),C=n(3948),j=n(5433),T=n(1858),z=(0,k.Z)((function(e){return{player:{top:"auto",bottom:0,backgroundColor:"#090909",opacity:.9},toolbar:{paddingLeft:0},album:{width:120,height:120,backgroundRepeat:"no-repeat",backgroundSize:"120px 120px",marginRight:e.spacing(2)},copyright:{maxWidth:300,"& a":{textDecoration:"none"}}}}));const B=function(e){var t,n=z(),a=e.track,o=e.album,c={backgroundImage:"url(".concat("https://henrikbecker.azurewebsites.net/img/folder.jpg",")")};(0,r.useEffect)((function(){a&&l()}),[a]);var l=function(){t.src&&""!==t.src&&t.play()};return r.createElement(w.Z,{position:"fixed",color:"secondary",className:n.player},r.createElement(S.Z,{className:n.toolbar},r.createElement("div",{className:n.album,style:c}),r.createElement(N.Z,{onClick:l},r.createElement(j.Z,null)),r.createElement(N.Z,{onClick:function(){t.pause()}},r.createElement(T.Z,null)),r.createElement("div",{style:{marginLeft:20,flexGrow:1}},a?a.title:"No track selected"," ",o?"(".concat(o.title,")"):""),r.createElement("div",{className:n.copyright},r.createElement("small",null,"The music on this site is ",r.createElement(C.Z,{href:"https://www.henrikbecker.net"},"Â© Henrik Becker")," and licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International ",r.createElement(C.Z,{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"License"),"."))),r.createElement("audio",{controls:!1,src:a?a.streamUrl:"",ref:function(e){return t=e}}))};var F=n(2248),_=n(2933),A=n(1631),I=(0,k.Z)((function(e){return{track:{cursor:"pointer"}}}));const L=function(e){var t=e.onTrackSelected,n=e.album,a=n.tracks,o=n.title,c=I();return r.createElement(r.Fragment,null,r.createElement(F.Z,{variant:"h4",component:"h4"},o),r.createElement(_.Z,null,a&&a.map((function(e,a){return r.createElement(A.Z,{key:a,onClick:function(){return t(n,e)},className:c.track},e.title)}))))};var M=n(4788),O=n.n(M),P=(0,k.Z)((function(e){return{header:{marginBottom:e.spacing(2)},lyrics:{"& p":{marginBottom:e.spacing(2)}}}}));const q=function(e){var t=e.track,n=P();return t&&t.lyrics?r.createElement(r.Fragment,null,r.createElement(F.Z,{variant:"h4",className:n.header},t.title),r.createElement(O(),{source:t.lyrics,className:n.lyrics})):null};var D="localhost"===document.location.hostname?"https://localhost:5001":"https://henrikbecker.azurewebsites.net",R=function(){var e=v()(E().mark((function e(){var t,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/music/api/graphql"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"{albums{title,tracks{title,lyrics,streamUrl}}}"})});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.albums);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const U=function(){var e=(0,r.useState)(),t=m()(e,2),n=t[0],a=t[1],o=(0,r.useState)(),c=m()(o,2),l=c[0],i=c[1],s=(0,r.useState)(),u=m()(s,2),b=u[0],E=u[1],y=(0,r.useState)(!0),v=m()(y,2),k=v[0],x=v[1],w=(0,r.useState)(!1),S=m()(w,2),N=S[0],C=S[1],j=function(e,t){i(e),E(t)};return(0,r.useEffect)((function(){R().then((function(e){a(e),x(!1)})).catch((function(e){x(!1),C(!0)}))}),[]),r.createElement(r.Fragment,null,k&&r.createElement(Z,null,r.createElement(p.Z,{position:"relative",display:"inline-flex"},r.createElement(f.Z,{size:100,color:"inherit"}),r.createElement(p.Z,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.createElement("div",null,"Loading..."))))||N&&r.createElement(Z,null,r.createElement(g.Z,{style:{fontSize:100}}),r.createElement("div",null,"Failed to retrieve track list"))||r.createElement(h.Z,{style:{marginTop:50,marginBottom:170}},r.createElement(d.Z,{container:!0,spacing:0,direction:"row-reverse"},r.createElement(d.Z,{item:!0,md:!0,sm:12},r.createElement(q,{track:b})),r.createElement(d.Z,{item:!0,md:!0,sm:12},n&&n.map((function(e,t){return r.createElement(L,{key:t,album:e,onTrackSelected:j})}))))),r.createElement(B,{track:b,album:l}))};a.render(r.createElement(o.Z,{theme:s},r.createElement(c.ZP,null),r.createElement(U,null)),document.getElementsByTagName("main")[0])}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=106,(()=>{var e={106:0},t=[[6246,216]],r=e=>{},a=(a,o)=>{for(var c,l,[i,s,u,m]=o,p=0,f=[];p<i.length;p++)l=i[p],n.o(e,l)&&e[l]&&f.push(e[l][0]),e[l]=0;for(c in s)n.o(s,c)&&(n.m[c]=s[c]);for(u&&u(n),a&&a(o);f.length;)f.shift()();return m&&t.push.apply(t,m),r()},o=self.webpackChunkhandiman_github_io=self.webpackChunkhandiman_github_io||[];function c(){for(var r,a=0;a<t.length;a++){for(var o=t[a],c=!0,l=1;l<o.length;l++){var i=o[l];0!==e[i]&&(c=!1)}c&&(t.splice(a--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o));var l=n.x;n.x=()=>(n.x=l||(e=>{}),(r=c)())})(),n.x()})();
//# sourceMappingURL=music.js.map